function PaymentType(){var n=$('select[name="BrainTreePayment.PaymentMethod"]').val();switch(n){case"0":braintree.client.create({authorization:$("#clientToken").val()},function(n,t){braintree.dataCollector.create({client:t,kount:!0},function(n,t){if(!n){var i=t.deviceData;$("#BrainTreePayment_DeviceData").val(i)}});braintree.paypal.create({client:t},function(n,t){if(n){console.error("Error creating PayPal:",n);return}paypalButton.removeAttribute("disabled");globalPayPalInstance=t;isPaypalInit=!0;isHostedInit&&(isHostedInit=!1,globalHostedInstance.teardown(function(n){n?console.error("Could not tear down Paypal Fields!",n):console.info("Paypal Fields has been torn down!")}));paypalButton.addEventListener("click",function(){paypalButton.setAttribute("disabled","disabled");var n={flow:"checkout",intent:"sale",currency:"USD",amount:Number(Math.round($("#TotalAmountDue").val()+"e2")+"e-2").toFixed(2)};console.info("paypal token options",n);t.tokenize(n,function(n,t){if(paypalButton.removeAttribute("disabled"),n){switch(n.code){case"PAYPAL_POPUP_CLOSED":console.error("Customer closed PayPal popup.");break;case"PAYPAL_ACCOUNT_TOKENIZATION_FAILED":console.error("PayPal tokenization failed. See details:",n.details);break;case"PAYPAL_FLOW_FAILED":console.error("Unable to initialize PayPal flow. Are your options correct?",n.details);break;default:console.error("Error!",n)}return}paypalButton.setAttribute("disabled",!0);console.log("Got a nonce! You should submit this to your server.");console.log(t.nonce);document.querySelector('input[name="BrainTreePayment.Nonce"]').value=t.nonce})},!1)})});$("#paypalrow").show();$("#creditcardrow").hide();$("#BrainTreePayment_PayeeAddressStreet1").rules("remove","required");$("#BrainTreePayment_PayeeAddressCity").rules("remove","required");$("#BrainTreePayment_PayeeAddressStateId").rules("remove","required");$("#BrainTreePayment_PayeeAddressPostalCode").rules("remove","required");break;case"1":braintree.client.create({authorization:$("#clientToken").val()},function(n,t){braintree.dataCollector.create({client:t,kount:!0},function(n,t){if(!n){var i=t.deviceData;$("#BrainTreePayment_DeviceData").val(i)}});braintree.hostedFields.create({client:t,styles:{input:{"font-size":"14pt"},"input.invalid":{color:"red"},"input.valid":{color:"green"}},fields:{number:{selector:"#card-number",placeholder:"4111 1111 1111 1111"},cvv:{selector:"#cvv",placeholder:"123"},expirationDate:{selector:"#expiration-date",placeholder:"10 / 2019"}}},function(n,t){if(n){console.error("Hosted Fields Error",n);return}submitBtn.removeAttribute("disabled");globalHostedInstance=t;isHostedInit=!0;isPaypalInit&&(isPaypalInit=!1,globalPayPalInstance.teardown(function(n){n?console.error("Could not tear down Paypal Fields!",n):console.info("Paypal Fields has been torn down!")}));document.getElementById("golfRegisterForm").addEventListener("submit",function(n){n.preventDefault();submitBtn.setAttribute("disabled","disabled");t.tokenize(function(n,t){if(submitBtn.removeAttribute("disabled"),n){switch(n.code){case"HOSTED_FIELDS_FIELDS_EMPTY":console.error("All fields are empty! Please fill out the form.");break;case"HOSTED_FIELDS_FIELDS_INVALID":console.error("Some fields are invalid:",n.details.invalidFieldKeys);break;case"HOSTED_FIELDS_FAILED_TOKENIZATION":console.error("Tokenization failed server side. Is the card valid?");break;case"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR":console.error("Network error occurred when tokenizing.");break;default:console.error("Something bad happened!",n)}return}document.querySelector('input[name="BrainTreePayment.Nonce"]').value=t.nonce;console.log("Got nonce:",t.nonce);$("#golfRegisterForm").submit()})},!1)})});$("#paypalrow").hide();$("#creditcardrow").show();$("#BrainTreePayment_PayeeAddressStreet1").rules("add",{required:!0,messages:{required:"address street required"}});$("#BrainTreePayment_PayeeAddressCity").rules("add",{required:!0,messages:{required:"address city required"}});$("#BrainTreePayment_PayeeAddressStateId").rules("add",{required:!0,messages:{required:"address state required"}});$("#BrainTreePayment_PayeeAddressPostalCode").rules("add",{required:!0,messages:{required:"address ZIP required"}})}}function UpdatePayeeList(){var l;UpdateAmountDue();var a=$(this).prop("id"),n=parseInt(a.charAt(8)),t=$("#Attendee"+n+"FirstName"),i=$("#Attendee"+n+"LastName"),u=$("#Attendee"+n+"AddressStreet1"),f=$("#Attendee"+n+"AddressCity"),e=$("#Attendee"+n+"AddressStateId"),o=$("#Attendee"+n+"AddressPostalCode"),s=$("#Attendee"+n+"EmailAddress"),h=$("#Attendee"+n+"PhoneNumber"),c=$("#Attendee"+n+"Type"),v=$("#payeelist option"),r=!1;v.each(function(){if(parseInt(this.value)===n)return r=!0,!1});t.val()!==""||i.val()!==""?(r?$("#payeelist option[value='"+n+"']").text(t.val()+" "+i.val()):(l='<option value="'+n+'">'+t.val()+" "+i.val()+"<\/option>",$("#payeelist").append(l)),n>1&&($(t).rules("add",{required:!0,messages:{required:"attendee #"+n+": first name required"}}),$(i).rules("add",{required:!0,messages:{required:"attendee #"+n+": last name required"}}),$(u).rules("add",{required:!0,messages:{required:"attendee #"+n+": address street 1 required"}}),$(f).rules("add",{required:!0,messages:{required:"attendee #"+n+": address city required"}}),$(e).rules("add",{required:!0,messages:{required:"attendee #"+n+": address state required"}}),$(o).rules("add",{required:!0,messages:{required:"attendee #"+n+": address postal code required"}}),$(s).rules("add",{required:!0,messages:{required:"attendee #"+n+": email address required"}}),$(h).rules("add",{required:!0,messages:{required:"attendee #"+n+": phone number required"}}),$(c).rules("add",{required:!0,messages:{required:"attendee #"+n+": type of attendance required"}}))):(r&&$("#payeelist option[value='"+n+"']").remove(),n>1&&($(t).rules("remove","required"),$(i).rules("remove","required"),$(u).rules("remove","required"),$(f).rules("remove","required"),$(e).rules("remove","required"),$(o).rules("remove","required"),$(s).rules("remove","required"),$(h).rules("remove","required"),$(c).rules("remove","required")))}function PopulatePaymentInformation(){var t=$("#payeelist"),n=t.val();if(parseInt($("#payeelist").val())>=0){var i=$("#Attendee"+n+"FirstName").val(),r=$("#Attendee"+n+"LastName").val(),u=$("#Attendee"+n+"AddressStreet1").val(),f=$("#Attendee"+n+"AddressStreet2").val(),e=$("#Attendee"+n+"AddressStateId").val(),o=$("#Attendee"+n+"AddressCity").val(),s=$("#Attendee"+n+"AddressPostalCode").val();$("#BrainTreePayment_PayeeFirstName").val(i);$("#BrainTreePayment_PayeeLastName").val(r);$("#BrainTreePayment_PayeeAddressStreet1").val(u);$("#BrainTreePayment_PayeeAddressStreet2").val(f);$("#BrainTreePayment_PayeeAddressStateId").val(e);$("#BrainTreePayment_PayeeAddressCity").val(o);$("#BrainTreePayment_PayeeAddressPostalCode").val(s)}else $("#PayeeFirstName").val(""),$("#PayeeLastName").val(""),$("#PayeeAddressStreet1").val(""),$("#PayeeAddressStreet2").val(""),$("#PayeeAddressStateId").val(""),$("#PayeeAddressCity").val(""),$("#PayeeAddressPostalCode").val(""),$("#PayeeEmailAddress").val("")}function UpdateAmountDue(){var n=0,t=parseInt($("#GolfTicketCost").val()),i=parseInt($("#BanquetTicketCost").val());if($("#Attendee1FirstName").val())switch($('input[name="Attendee1Type"]:checked').val()){case"0":n+=t;$("#Attendee1TicketPrice").val(t);break;case"1":n+=i;$("#Attendee1TicketPrice").val(i)}if($("#Attendee2FirstName").val())switch($('input[name="Attendee2Type"]:checked').val()){case"0":n+=t;$("#Attendee2TicketPrice").val(t);break;case"1":n+=i;$("#Attendee2TicketPrice").val(i)}if($("#Attendee3FirstName").val())switch($('input[name="Attendee3Type"]:checked').val()){case"0":n+=t;$("#Attendee3TicketPrice").val(t);break;case"1":n+=i;$("#Attendee3TicketPrice").val(i)}if($("#Attendee4FirstName").val())switch($('input[name="Attendee4Type"]:checked').val()){case"0":n+=t;$("#Attendee4TicketPrice").val(t);break;case"1":n+=i;$("#Attendee4TicketPrice").val(i)}$("#TotalAmountDueReadOnly").val(parseInt(n));$("#TotalAmountDue").val(parseInt(n))}var paypalButton=document.querySelector(".paypal-button"),submitBtn=document.getElementById("submitButton"),globalPayPalInstance={},isPaypalInit=!1,globalHostedInstance={},isHostedInit=!1,i;for($('select[name="BrainTreePayment.PaymentMethod"]').change(PaymentType),PaymentType(),i=1;i<=4;i++){var firstNameInput=$("#Attendee"+i+"FirstName"),lastNameInput=$("#Attendee"+i+"LastName"),attendeeType=$('input[name="Attendee'+i+'Type"]:radio');firstNameInput.on("change",UpdatePayeeList);lastNameInput.on("change",UpdatePayeeList);attendeeType.on("change",UpdateAmountDue)}$("#payeelist").on("change",PopulatePaymentInformation);UpdateAmountDue();document.getElementById("Attendee1FirstName").focus();